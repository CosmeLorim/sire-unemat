<script>
    $('#atualizarDisciplina').on('click', function ()
    {
        var disciplinaNova = new Disciplina();
        disciplinaNova = pegarDadosForumularioDisciplinas();

        if (disciplinaNova === false)
            return;

        if (disciplinaAntiga.id === null)
        {
            $.Notify({
                caption: 'Erro',
                content: 'Você não selecionou uma disciplina para atualizar!',
                timeout: 10000,
                type: 'alert'
            });
            return;
        }

        var admin = new Admin();
        var titulo = 'Atualização de disciplinas';
        var conteudo = 'Deseja atualizar a disciplina \"' + disciplinaNova.descricao + '\"?';

        var callback = function ()
        {
            $.ajax({
                url: '/api/disciplina/' + disciplinaAntiga.id,
                type: 'put',
                data: 
                    {
                        descricao: disciplinaNova.descricao,
                        sigla: disciplinaNova.sigla,
                        curso: disciplinaNova.curso,
                        ativo: disciplinaNova.ativo,
                        cargaHoraria: disciplinaNova.carga_horaria,
                        semestre: disciplinaNova.semestre
                    },
                success: function (data, status) {
                    $.Notify({
                        caption: data.title,
                        content: data.msg,
                        timeout: 10000,
                        type: data.status
                    });
                    if (data.status === 'success')
                    {
                        atualizarGridDisciplinas();
                        limpaTelaDisciplinas();
                    }
                }
            });
        };
        admin.dialog(titulo, conteudo, callback);
    });
</script>