<script>
    $('#inserirDisciplina').on('click', function ()
    {
        var disciplinaNova = new Disciplina();
        disciplinaNova = pegarDadosForumularioDisciplinas();

        if (disciplinaNova === false)
            return;


        var admin = new Admin();
        var titulo = 'Cadastro de disciplinas';
        var conteudo = 'Deseja cadastrar a disciplina \"' + disciplinaNova.descricao + '\"?';

        var callback = function ()
        {
            $.post('/api/disciplina',
                    {
                        descricao: disciplinaNova.descricao,
                        sigla: disciplinaNova.sigla,
                        curso: disciplinaNova.curso,
                        ativo: disciplinaNova.ativo,
                        cargaHoraria: disciplinaNova.carga_horaria,
                        semestre: disciplinaNova.semestre

                    },
                    function (data, status)
                    {
                        $.Notify({
                            caption: data.title,
                            content: data.msg,
                            timeout: 10000,
                            type: data.status
                        });
                        if (data.status === 'success')
                        {
                            atualizarGridDisciplinas();
                            limpaTelaDisciplinas();
                        }
                    }
            );
        };
        admin.dialog(titulo, conteudo, callback);
    });
</script>